# Malware Detection Pipeline - Environment Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# REQUIRED CONFIGURATION
# ============================================================================

# Google Gemini API Key (get from https://ai.google.dev/)
GOOGLE_API_KEY=your_google_api_key_here

# ============================================================================
# DOCKER CONFIGURATION
# ============================================================================

# Docker daemon socket (default: unix socket for local Docker)
DOCKER_HOST=unix:///var/run/docker.sock

# Docker network name
DOCKER_NETWORK_NAME=malware_detection_net

# Shared volume name
SHARED_VOLUME_NAME=malware_detection_volume

# ============================================================================
# TIMEOUT & RETRY CONFIGURATION
# ============================================================================

# HTTP request timeout (seconds)
REQUEST_TIMEOUT=30

# Maximum retry attempts for failed requests
MAX_RETRIES=3

# Container execution timeout (seconds)
CONTAINER_TIMEOUT=60

# ============================================================================
# SCRAPER CONFIGURATION
# ============================================================================

# Maximum content size to process (bytes)
MAX_CONTENT_SIZE=10485760  # 10 MB

# Scraper Docker image
SCRAPER_IMAGE=malware-scraper:latest

# Scraper mount path (inside container)
SCRAPER_MOUNT_PATH=/data

# ============================================================================
# ANALYZER CONFIGURATION
# ============================================================================

# Analyzer Docker image
ANALYZER_IMAGE=malware-analyzer:latest

# Analyzer mount path (inside container)
ANALYZER_MOUNT_PATH=/data

# Risk score thresholds (0-1)
MALICIOUS_THRESHOLD=0.60      # >= 0.60 is malicious
SUSPICIOUS_THRESHOLD=0.40     # 0.40-0.59 is suspicious

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file location (relative to script directory)
LOG_FILE=logs/malware_detection.log

# Maximum log file size (bytes)
LOG_MAX_SIZE=52428800  # 50 MB

# Log backup count
LOG_BACKUP_COUNT=5

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Maximum concurrent analyses (if implementing parallelization)
MAX_CONCURRENT=1

# Number of worker threads for batch processing
WORKER_THREADS=1

# Batch size for analysis queue
BATCH_SIZE=10

# ============================================================================
# OPTIONAL: EXTERNAL SERVICE INTEGRATION
# ============================================================================

# Redis URL (for task queue integration)
# REDIS_URL=redis://localhost:6379

# VirusTotal API Key (for threat intelligence)
# VIRUSTOTAL_API_KEY=your_vt_api_key

# Shodan API Key (for security scanning)
# SHODAN_API_KEY=your_shodan_api_key

# ============================================================================
# OPTIONAL: CLOUD DEPLOYMENT
# ============================================================================

# AWS Configuration
# AWS_REGION=us-east-1
# AWS_ECR_REGISTRY=123456789.dkr.ecr.us-east-1.amazonaws.com

# GCP Configuration
# GCP_PROJECT_ID=your-project-id
# GCP_REGION=us-central1
# GCP_ARTIFACT_REGISTRY=us-central1-docker.pkg.dev

# Azure Configuration
# AZURE_RESOURCE_GROUP=malware-detection
# AZURE_CONTAINER_REGISTRY=youracr.azurecr.io

# ============================================================================
# OPTIONAL: MONITORING & OBSERVABILITY
# ============================================================================

# Prometheus metrics endpoint
# PROMETHEUS_ENABLED=false
# PROMETHEUS_PORT=8000

# Elasticsearch configuration (for centralized logging)
# ELASTICSEARCH_HOST=localhost:9200

# Sentry configuration (for error tracking)
# SENTRY_DSN=your_sentry_dsn

# ============================================================================
# OPTIONAL: DEVELOPMENT & DEBUGGING
# ============================================================================

# Development mode (enables debug logging, hot reload)
# DEBUG=false

# Dry run mode (don't actually create containers)
# DRY_RUN=false

# Keep containers running for inspection
# KEEP_CONTAINERS=false

# ============================================================================
# NOTES
# ============================================================================
# 
# 1. GOOGLE_API_KEY:
#    - Required for ADK agent analysis
#    - Get free tier at: https://ai.google.dev/
#    - Format: alphanumeric string with underscores/hyphens
#
# 2. DOCKER_HOST:
#    - For local Docker: unix:///var/run/docker.sock
#    - For remote Docker: tcp://host:2375
#    - For Docker Desktop on Mac: unix:///Users/username/.docker/run/docker.sock
#
# 3. TIMEOUT VALUES:
#    - REQUEST_TIMEOUT: Should be >= 20 seconds for slow websites
#    - CONTAINER_TIMEOUT: Should be >= 60 seconds for large pages
#    - Adjust based on your network speed
#
# 4. RISK THRESHOLDS:
#    - Increase MALICIOUS_THRESHOLD to reduce false positives
#    - Decrease to catch more potential threats (at cost of false positives)
#    - Typical range: 0.50 - 0.70
#
# 5. LOGGING:
#    - Set LOG_LEVEL=DEBUG for development
#    - Set LOG_LEVEL=WARNING for production
#    - Logs are written to specified LOG_FILE location
#
# 6. SECURITY:
#    - Never commit this file with real API keys to version control
#    - Use .gitignore to exclude .env
#    - Rotate API keys regularly
#    - Use least-privilege IAM roles
#
# ============================================================================
